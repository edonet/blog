# 单列模式
唯一总是孤独的。单列模式保证只存在唯一的一个个实例，以将逻辑简单化。这种方式让整个编程思路单一化，在实际应用中也随处可见。

## 优点
1. 易维护
2. 占用资源少

## 缺点
无法扩展，缺少灵活性

## 理论基础
在javascript中，很多时间，一不经意间，你就可能创建一个单列。如下：
``` javascript
var singleton = {
    props: 'value',
    method: function(){}
}
```
也许你惊讶，这怎么会是单列。但这确实是一个单列，因为它是唯一的，无论你怎么引用，都只会共享同一资源的Object实例。只是你没有去维护，用完就丢了，所以才没注意到这点。当然，我们今天谈的，绝对不是这种简单的创建对象，而是经过设计，需要我们维护的，能尽量发挥其优势的一种模式。

## 设计思路
在Web应用中，其实很多东西，它是具有唯一性的。它的唯一性决定它不可能在同一应用中出现第二个，最常见的，如弹窗，下拉列表。

## 常见实现
有效地利用闭包原理，创建私有变量、方法。
``` javascript
var singleton = (function () {
    var privateVar = "private";
    return {
        prop: "value",
        method: function () {
            console.log(privateVar);
        }
    }
})();
```

## 惰性单例
不管是直接字面量或者私有成员的单例模式，两者都是在脚本加载时就被创建出来的单例，但是有时候，页面可能永远也用不到这个单例对象，这样会造成资源浪费。对于这种情况，最佳的处理方式就是惰性加载，就是说在需要的时候才去真正实例化这个单例对象，如何实现呢？
``` javascript
var dateTimeHelper = (function () {
    function init() {
        return {
            now: function () {
                return new Date();
            },
            format: function (date) {
                return date.getFullYear() + "-" + (date.getMonth() + 1) + "-" + date.getDate();
            }
        }
    }
    var instance = null;
    return {
        getInstance: function () {
            if (!instance) {
                instance = init();
            }
            return instance;
        }
    }
})();
```

## 总结
单例模式的好处在于对代码的组织作用，将相关的属性和方法封装在一个不会被多次实例化的对象中，让代码的维护和调试更加轻松。隐藏了实现细节，可以防止被错误修改，还防止了全局命名空间的污染。另外可以通过惰性加载提高性能，减少不必要的内存消耗。
